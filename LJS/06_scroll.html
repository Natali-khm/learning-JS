<!DOCTYPE html>
<html>
  <head> </head>
  <body>
    <p>Прокрути меня</p>

    <script>
      lastP = Array.from(document.querySelectorAll("p")).pop();

      while (lastP.getBoundingClientRect().bottom < window.innerHeight) {
        document.body.insertAdjacentHTML(
          "beforeend",
          `<p>Дата: ${new Date()}</p>`
        );
        lastP = Array.from(document.querySelectorAll("p")).pop();
      }

      document.addEventListener("scroll", (event) => {
        let docRelativeBottom =
          document.documentElement.getBoundingClientRect().bottom;
        let windowHeight = document.documentElement.clientHeight;

        if (docRelativeBottom < windowHeight + 100) {
          document.body.insertAdjacentHTML(
            "beforeend",
            `<p>Дата: ${new Date()}</p>`
          );
        }
      });
    </script>
  </body>
</html>
